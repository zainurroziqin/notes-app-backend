(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[878],{343:(e,t,n)=>{"use strict";n.d(t,{v:()=>o,x:()=>r});let r=()=>{if(window){let e=prompt("Masukkan URL Web Server:");e&&(e.startsWith("http://")||(e="http://".concat(e)),"/"!==e[e.length-1]&&(e+="/"),localStorage.setItem("BASE_URL",e),window.location.reload())}},o=()=>localStorage.getItem("BASE_URL")||""},905:e=>{e.exports={edit_page:"Edit_edit_page__NR5vO",edit_page__content:"Edit_edit_page__content__GqvZG",edit_page__header:"Edit_edit_page__header__5ccJq",edit_page__title:"Edit_edit_page__title__d6NbP",edit_page__tags:"Edit_edit_page__tags__pW6FJ",edit_page__body:"Edit_edit_page__body__hoaEJ",edit_page__action:"Edit_edit_page__action__OBB_v",update_button:"Edit_update_button__rA1HZ",delete_button:"Edit_delete_button__31hsv",error:"Edit_error__jbLcY"}},1055:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=l(n(4232)),d=h(n(4349)),u=l(n(5062));function _(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}t.default=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:p.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var r=n.innerHTML;if(t.props.onChange&&r!==t.lastHtml){var o=Object.assign({},e,{target:{value:r}});t.props.onChange(o)}t.lastHtml=r}},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,r=t.html,o=t.innerRef,i=c(t,["tagName","html","innerRef"]);return p.createElement(n||"div",a(a({},i),{ref:"function"==typeof o?function(t){o(t),e.el.current=t}:o||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:r}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||_(e.html)!==_(n.innerHTML)||t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||t.placeholder!==e.placeholder||!(0,d.default)(t.style,e.style)},t.prototype.componentDidUpdate=function(){var e=this.getEl();if(e){this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html),this.lastHtml=this.props.html;var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var r=window.getSelection();if(null!==r){var o=document.createRange();o.setStart(t,t.nodeValue.length),o.collapse(!0),r.removeAllRanges(),r.addRange(o)}e instanceof HTMLElement&&e.focus()}}},t.propTypes={html:u.string.isRequired,onChange:u.func,disabled:u.bool,tagName:u.string,className:u.string,style:u.object,innerRef:u.oneOfType([u.object,u.func])},t}(p.Component)},3029:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=async(e,t)=>{let n=await fetch(e,t);if(!n.status.toString().startsWith("2")){let{message:e}=await n.json();throw Error(e)}return n.json()}},3717:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4349:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;0!=o--;){var r,o,a,i=a[o];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},4837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__N_SSP:()=>y,default:()=>b});var r=n(7876),o=n(4232),a=n(7328),i=n.n(a),s=n(1055),l=n.n(s),c=n(8230),h=n.n(c),p=n(8856),d=n(905),u=n.n(d),_=n(343),f=n(3029);class g extends o.Component{async componentDidMount(){try{let{id:e}=this.props,{data:{note:t}}=await (0,f.A)("".concat((0,_.v)(),"notes/").concat(e)),{title:n,body:r,tags:o}=t;this.setState(e=>({...e,note:t,title:n,body:r,tags:o}))}catch(e){this.setState(e=>({...e,isError:!0}))}}handleTitleChange(e){let{target:t}=e;this.setState(e=>({...e,title:t.value}))}handleTagsChange(e){let{target:t}=e;this.setState(e=>({...e,tags:t.value.split(",").map(e=>e.trim()).filter(e=>""!==e)}))}handleBodyChange(e){let{target:t}=e;this.setState(e=>({...e,body:t.value}))}async handleUpdateNote(){let{title:e,body:t,tags:n}=this.state,{id:r}=this.props;this.setState(e=>({...e,isFetching:!0}));try{await (0,f.A)("".concat((0,_.v)(),"notes/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,body:t,tags:n})}),window&&(window.location.href="/notes/".concat(r))}catch(e){window&&alert(e.message),this.setState(e=>({...e,isFetching:!1}))}}async handleDeleteNote(){let{id:e}=this.props;try{await (0,f.A)("".concat((0,_.v)(),"notes/").concat(e),{method:"DELETE"}),window&&(window.location.href="/")}catch(e){window&&alert(e.message),this.setState(e=>({...e,isFetching:!1}))}}renderError(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Notes - Not Found"})}),(0,r.jsx)(p.A,{}),(0,r.jsxs)("main",{className:u().error,children:[(0,r.jsx)("p",{children:"Error displaying notes! Make sure you have done with the back-end or correct url."}),(0,r.jsx)(h(),{href:"/",children:"Back to Home"})]})]})}renderSuccess(){let{title:e,body:t,isFetching:n,tags:o}=this.state;return(0,r.jsxs)("div",{children:[(0,r.jsx)(i(),{children:(0,r.jsxs)("title",{children:["Edit -"," ",e]})}),(0,r.jsx)(p.A,{}),(0,r.jsx)("main",{className:u().edit_page,children:(0,r.jsxs)("section",{className:u().edit_page__content,children:[(0,r.jsxs)("header",{className:u().edit_page__header,children:[(0,r.jsx)("input",{className:u().edit_page__title,value:e,onChange:this.handleTitleChange,type:"text",autoComplete:"off",placeholder:"Note title"}),(0,r.jsx)("input",{className:u().edit_page__tags,placeholder:"Tag 1, Tag 2, Tag 3",defaultValue:o.join(", "),type:"text",autoComplete:"off",onChange:this.handleTagsChange})]}),(0,r.jsx)(l(),{className:u().edit_page__body,html:t,innerRef:this.contentEditable,disabled:!1,onChange:this.handleBodyChange}),(0,r.jsxs)("div",{className:u().edit_page__action,children:[(0,r.jsx)("button",{disabled:n,className:u().update_button,type:"button",onClick:this.handleUpdateNote,children:"Save Note"}),(0,r.jsx)("button",{className:u().delete_button,type:"button",onClick:this.handleDeleteNote,children:"Delete Note"})]})]})})]})}render(){let{isError:e,note:t}=this.state;return e?this.renderError():t?this.renderSuccess():(0,r.jsx)(r.Fragment,{})}constructor(e){super(e),this.state={title:"",body:"",tags:[],isFetching:!1,isError:!1,note:null},this.contentEditable=o.createRef(),this.handleTitleChange=this.handleTitleChange.bind(this),this.handleTagsChange=this.handleTagsChange.bind(this),this.handleBodyChange=this.handleBodyChange.bind(this),this.handleUpdateNote=this.handleUpdateNote.bind(this),this.handleDeleteNote=this.handleDeleteNote.bind(this)}}var y=!0;let b=g},5062:(e,t,n)=>{e.exports=n(9706)()},7328:(e,t,n)=>{e.exports=n(9836)},8058:e=>{e.exports={announce_bar:"AnnounceBar_announce_bar__NnxXn"}},8780:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes/[id]/edit",function(){return n(4837)}])},8856:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(7876),o=n(4232),a=n(8230),i=n.n(a),s=n(8058),l=n.n(s),c=n(343);class h extends o.Component{componentDidMount(){this.setState({host:(0,c.v)()})}render(){let{host:e}=this.state;return(0,r.jsx)("div",{className:l().announce_bar,children:(0,r.jsxs)("p",{children:["Web Server API:"," ",(0,r.jsx)(i(),{href:e,target:"__blank",children:e})," ","|"," ",(0,r.jsx)("button",{type:"button",onClick:c.x,children:"Change URL"})]})})}constructor(e){super(e),this.state={host:"/"}}}let p=h},9706:(e,t,n)=>{"use strict";var r=n(3717);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}}},e=>{var t=t=>e(e.s=t);e.O(0,[230,636,593,792],()=>t(8780)),_N_E=e.O()}]);