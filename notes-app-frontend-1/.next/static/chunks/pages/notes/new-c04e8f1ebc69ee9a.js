(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[528],{343:(e,t,n)=>{"use strict";n.d(t,{v:()=>a,x:()=>r});let r=()=>{if(window){let e=prompt("Masukkan URL Web Server:");e&&(e.startsWith("http://")||(e="http://".concat(e)),"/"!==e[e.length-1]&&(e+="/"),localStorage.setItem("BASE_URL",e),window.location.reload())}},a=()=>localStorage.getItem("BASE_URL")||""},1055:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=l(n(4232)),u=p(n(4349)),_=l(n(5062));function d(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}t.default=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:h.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var r=n.innerHTML;if(t.props.onChange&&r!==t.lastHtml){var a=Object.assign({},e,{target:{value:r}});t.props.onChange(a)}t.lastHtml=r}},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,r=t.html,a=t.innerRef,s=c(t,["tagName","html","innerRef"]);return h.createElement(n||"div",o(o({},s),{ref:"function"==typeof a?function(t){a(t),e.el.current=t}:a||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:r}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||d(e.html)!==d(n.innerHTML)||t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||t.placeholder!==e.placeholder||!(0,u.default)(t.style,e.style)},t.prototype.componentDidUpdate=function(){var e=this.getEl();if(e){this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html),this.lastHtml=this.props.html;var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var r=window.getSelection();if(null!==r){var a=document.createRange();a.setStart(t,t.nodeValue.length),a.collapse(!0),r.removeAllRanges(),r.addRange(a)}e instanceof HTMLElement&&e.focus()}}},t.propTypes={html:_.string.isRequired,onChange:_.func,disabled:_.bool,tagName:_.string,className:_.string,style:_.object,innerRef:_.oneOfType([_.object,_.func])},t}(h.Component)},3029:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=async(e,t)=>{let n=await fetch(e,t);if(!n.status.toString().startsWith("2")){let{message:e}=await n.json();throw Error(e)}return n.json()}},3411:e=>{e.exports={new_page:"New_new_page__JyHIa",new_page__content:"New_new_page__content__qA1Rr",new_page__header:"New_new_page__header__iKZRW",new_page__title:"New_new_page__title__GKNmN",new_page__tags:"New_new_page__tags__6ggKK",new_page__body:"New_new_page__body__mKK19",new_page__action:"New_new_page__action__lgZde",update_button:"New_update_button__uGC_G",delete_button:"New_delete_button__wfSGg"}},3717:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4349:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;0!=a--;){var r,a,o,s=o[a];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},5062:(e,t,n)=>{e.exports=n(9706)()},7328:(e,t,n)=>{e.exports=n(9836)},8058:e=>{e.exports={announce_bar:"AnnounceBar_announce_bar__NnxXn"}},8647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(7876),a=n(7328),o=n.n(a),s=n(4232),i=n(1055),l=n.n(i),c=n(3411),p=n.n(c),h=n(8856),u=n(343),_=n(3029);class d extends s.Component{handleTitleChange(e){let{target:t}=e;this.setState(e=>({...e,title:t.value}))}handleTagsChange(e){let{target:t}=e;this.setState(e=>({...e,tags:t.value.split(",").map(e=>e.trim()).filter(e=>""!==e)}))}handleBodyChange(e){let{target:t}=e;this.setState(e=>({...e,body:t.value}))}async handleSaveNote(){let{title:e,body:t,tags:n}=this.state;this.setState(e=>({...e,isFetching:!0}));try{await (0,_.A)("".concat((0,u.v)(),"notes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,body:t,tags:n})}),window&&(window.location.href="/")}catch(e){window&&alert(e.message),this.setState(e=>({...e,isFetching:!1}))}}handleDiscardNote(){window&&(window.location.href="/")}render(){let{title:e,body:t,isFetching:n}=this.state;return(0,r.jsxs)("div",{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"Add New Notes"})}),(0,r.jsx)(h.A,{}),(0,r.jsx)("main",{className:p().new_page,children:(0,r.jsxs)("section",{className:p().new_page__content,children:[(0,r.jsxs)("header",{className:p().new_page__header,children:[(0,r.jsx)("input",{className:p().new_page__title,value:e,onChange:this.handleTitleChange,type:"text",autoComplete:"off",placeholder:"Note title"}),(0,r.jsx)("input",{className:p().new_page__tags,placeholder:"Tag 1, Tag 2, Tag 3",type:"text",autoComplete:"off",onChange:this.handleTagsChange})]}),(0,r.jsx)(l(),{className:p().new_page__body,html:t,innerRef:this.contentEditable,disabled:!1,onChange:this.handleBodyChange}),(0,r.jsxs)("div",{className:p().new_page__action,children:[(0,r.jsx)("button",{disabled:n,className:p().update_button,type:"button",onClick:this.handleSaveNote,children:"Save Note"}),(0,r.jsx)("button",{className:p().delete_button,type:"button",onClick:this.handleDiscardNote,children:"Discard"})]})]})})]})}constructor(e){super(e),this.state={title:"",body:"",tags:[],isFetching:!1},this.contentEditable=s.createRef(),this.handleTitleChange=this.handleTitleChange.bind(this),this.handleTagsChange=this.handleTagsChange.bind(this),this.handleBodyChange=this.handleBodyChange.bind(this),this.handleSaveNote=this.handleSaveNote.bind(this)}}let f=d},8856:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(7876),a=n(4232),o=n(8230),s=n.n(o),i=n(8058),l=n.n(i),c=n(343);class p extends a.Component{componentDidMount(){this.setState({host:(0,c.v)()})}render(){let{host:e}=this.state;return(0,r.jsx)("div",{className:l().announce_bar,children:(0,r.jsxs)("p",{children:["Web Server API:"," ",(0,r.jsx)(s(),{href:e,target:"__blank",children:e})," ","|"," ",(0,r.jsx)("button",{type:"button",onClick:c.x,children:"Change URL"})]})})}constructor(e){super(e),this.state={host:"/"}}}let h=p},9252:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes/new",function(){return n(8647)}])},9706:(e,t,n)=>{"use strict";var r=n(3717);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,s){if(s!==r){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}}},e=>{var t=t=>e(e.s=t);e.O(0,[230,636,593,792],()=>t(9252)),_N_E=e.O()}]);