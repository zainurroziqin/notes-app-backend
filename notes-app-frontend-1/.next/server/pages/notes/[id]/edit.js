(()=>{var e={};e.id=878,e.ids=[220,636,878],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},609:(e,t)=>{"use strict";function n(e){let{ampFirst:t=!1,hybrid:n=!1,hasQuery:a=!1}=void 0===e?{}:e;return t||n&&a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return n}})},1025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},1145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return g},defaultHead:function(){return u}});let a=n(7020),r=n(3147),s=n(8732),i=r._(n(2015)),d=a._(n(8160)),o=n(7043),l=n(1523),c=n(609);function u(e){void 0===e&&(e=!1);let t=[(0,s.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,s.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===i.default.Fragment?e.concat(i.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}n(1025);let p=["name","httpEquiv","charSet","itemProp"];function _(e,t){let{inAmpMode:n}=t;return e.reduce(h,[]).reverse().concat(u(n).reverse()).filter(function(){let e=new Set,t=new Set,n=new Set,a={};return r=>{let s=!0,i=!1;if(r.key&&"number"!=typeof r.key&&r.key.indexOf("$")>0){i=!0;let t=r.key.slice(r.key.indexOf("$")+1);e.has(t)?s=!1:e.add(t)}switch(r.type){case"title":case"base":t.has(r.type)?s=!1:t.add(r.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){let t=p[e];if(r.props.hasOwnProperty(t))if("charSet"===t)n.has(t)?s=!1:n.add(t);else{let e=r.props[t],n=a[t]||new Set;("name"!==t||!i)&&n.has(e)?s=!1:(n.add(e),a[t]=n)}}}return s}}()).reverse().map((e,t)=>{let a=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!n&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,i.default.cloneElement(e,t)}return i.default.cloneElement(e,{key:a})})}let g=function(e){let{children:t}=e,n=(0,i.useContext)(o.AmpStateContext),a=(0,i.useContext)(l.HeadManagerContext);return(0,s.jsx)(d.default,{reduceComponentsToState:_,headManager:a,inAmpMode:(0,c.isInAmpMode)(n),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1363:e=>{"use strict";e.exports=require("react-contenteditable")},1523:(e,t,n)=>{"use strict";e.exports=n(3885).vendored.contexts.HeadManagerContext},2015:e=>{"use strict";e.exports=require("react")},2080:e=>{e.exports={announce_bar:"AnnounceBar_announce_bar__NnxXn"}},2768:()=>{},3722:(e,t,n)=>{"use strict";n.d(t,{v:()=>r,x:()=>a});let a=()=>{if(window){let e=prompt("Masukkan URL Web Server:");e&&(e.startsWith("http://")||(e=`http://${e}`),"/"!==e[e.length-1]&&(e+="/"),localStorage.setItem("BASE_URL",e),window.location.reload())}},r=()=>localStorage.getItem("BASE_URL")||""},3873:e=>{"use strict";e.exports=require("path")},6980:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=async(e,t)=>{let n=await fetch(e,t);if(!n.status.toString().startsWith("2")){let{message:e}=await n.json();throw Error(e)}return n.json()}},7003:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(8732),r=n(2015),s=n(9918),i=n.n(s),d=n(2080),o=n.n(d),l=n(3722);class c extends r.Component{constructor(e){super(e),this.state={host:"/"}}componentDidMount(){this.setState({host:(0,l.v)()})}render(){let{host:e}=this.state;return(0,a.jsx)("div",{className:o().announce_bar,children:(0,a.jsxs)("p",{children:["Web Server API:"," ",(0,a.jsx)(i(),{href:e,target:"__blank",children:e})," ","|"," ",(0,a.jsx)("button",{type:"button",onClick:l.x,children:"Change URL"})]})})}}let u=c},7043:(e,t,n)=>{"use strict";e.exports=n(3885).vendored.contexts.AmpContext},7522:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(8732);n(2768),n(2015);let r=function({Component:e,pageProps:t}){return(0,a.jsx)(e,{...t})}},8115:(e,t,n)=>{"use strict";n.r(t),n.d(t,{config:()=>k,default:()=>E,getServerSideProps:()=>A,getStaticPaths:()=>N,getStaticProps:()=>M,reportWebVitals:()=>O,routeModule:()=>q,unstable_getServerProps:()=>B,unstable_getServerSideProps:()=>$,unstable_getStaticParams:()=>I,unstable_getStaticPaths:()=>U,unstable_getStaticProps:()=>T});var a={};n.r(a),n.d(a,{default:()=>C,getServerSideProps:()=>P});var r=n(3885),s=n(237),i=n(1413),d=n(9616),o=n.n(d),l=n(7522),c=n(8732),u=n(2015),h=n.n(u),p=n(9788),_=n.n(p),g=n(1363),f=n.n(g),m=n(9918),b=n.n(m),x=n(7003),v=n(8345),y=n.n(v),S=n(3722),j=n(6980);class w extends u.Component{constructor(e){super(e),this.state={title:"",body:"",tags:[],isFetching:!1,isError:!1,note:null},this.contentEditable=h().createRef(),this.handleTitleChange=this.handleTitleChange.bind(this),this.handleTagsChange=this.handleTagsChange.bind(this),this.handleBodyChange=this.handleBodyChange.bind(this),this.handleUpdateNote=this.handleUpdateNote.bind(this),this.handleDeleteNote=this.handleDeleteNote.bind(this)}async componentDidMount(){try{let{id:e}=this.props,{data:{note:t}}=await (0,j.A)(`${(0,S.v)()}notes/${e}`),{title:n,body:a,tags:r}=t;this.setState(e=>({...e,note:t,title:n,body:a,tags:r}))}catch(e){this.setState(e=>({...e,isError:!0}))}}handleTitleChange({target:e}){this.setState(t=>({...t,title:e.value}))}handleTagsChange({target:e}){this.setState(t=>({...t,tags:e.value.split(",").map(e=>e.trim()).filter(e=>""!==e)}))}handleBodyChange({target:e}){this.setState(t=>({...t,body:e.value}))}async handleUpdateNote(){let{title:e,body:t,tags:n}=this.state,{id:a}=this.props;this.setState(e=>({...e,isFetching:!0}));try{await (0,j.A)(`${(0,S.v)()}notes/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,body:t,tags:n})}),window&&(window.location.href=`/notes/${a}`)}catch(e){window&&alert(e.message),this.setState(e=>({...e,isFetching:!1}))}}async handleDeleteNote(){let{id:e}=this.props;try{await (0,j.A)(`${(0,S.v)()}notes/${e}`,{method:"DELETE"}),window&&(window.location.href="/")}catch(e){window&&alert(e.message),this.setState(e=>({...e,isFetching:!1}))}}renderError(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(_(),{children:(0,c.jsx)("title",{children:"Notes - Not Found"})}),(0,c.jsx)(x.A,{}),(0,c.jsxs)("main",{className:y().error,children:[(0,c.jsx)("p",{children:"Error displaying notes! Make sure you have done with the back-end or correct url."}),(0,c.jsx)(b(),{href:"/",children:"Back to Home"})]})]})}renderSuccess(){let{title:e,body:t,isFetching:n,tags:a}=this.state;return(0,c.jsxs)("div",{children:[(0,c.jsx)(_(),{children:(0,c.jsxs)("title",{children:["Edit -"," ",e]})}),(0,c.jsx)(x.A,{}),(0,c.jsx)("main",{className:y().edit_page,children:(0,c.jsxs)("section",{className:y().edit_page__content,children:[(0,c.jsxs)("header",{className:y().edit_page__header,children:[(0,c.jsx)("input",{className:y().edit_page__title,value:e,onChange:this.handleTitleChange,type:"text",autoComplete:"off",placeholder:"Note title"}),(0,c.jsx)("input",{className:y().edit_page__tags,placeholder:"Tag 1, Tag 2, Tag 3",defaultValue:a.join(", "),type:"text",autoComplete:"off",onChange:this.handleTagsChange})]}),(0,c.jsx)(f(),{className:y().edit_page__body,html:t,innerRef:this.contentEditable,disabled:!1,onChange:this.handleBodyChange}),(0,c.jsxs)("div",{className:y().edit_page__action,children:[(0,c.jsx)("button",{disabled:n,className:y().update_button,type:"button",onClick:this.handleUpdateNote,children:"Save Note"}),(0,c.jsx)("button",{className:y().delete_button,type:"button",onClick:this.handleDeleteNote,children:"Delete Note"})]})]})})]})}render(){let{isError:e,note:t}=this.state;return e?this.renderError():t?this.renderSuccess():(0,c.jsx)(c.Fragment,{})}}async function P({params:e}){let{id:t}=e;return{props:{id:t}}}let C=w,E=(0,i.M)(a,"default"),M=(0,i.M)(a,"getStaticProps"),N=(0,i.M)(a,"getStaticPaths"),A=(0,i.M)(a,"getServerSideProps"),k=(0,i.M)(a,"config"),O=(0,i.M)(a,"reportWebVitals"),T=(0,i.M)(a,"unstable_getStaticProps"),U=(0,i.M)(a,"unstable_getStaticPaths"),I=(0,i.M)(a,"unstable_getStaticParams"),B=(0,i.M)(a,"unstable_getServerProps"),$=(0,i.M)(a,"unstable_getServerSideProps"),q=new r.PagesRouteModule({definition:{kind:s.A.PAGES,page:"/notes/[id]/edit",pathname:"/notes/[id]/edit",bundlePath:"",filename:""},components:{App:l.default,Document:o()},userland:a})},8160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=n(2015),r=()=>{},s=()=>{};function i(e){var t;let{headManager:n,reduceComponentsToState:i}=e;function d(){if(n&&n.mountedInstances){let t=a.Children.toArray(Array.from(n.mountedInstances).filter(Boolean));n.updateHead(i(t,e))}}return null==n||null==(t=n.mountedInstances)||t.add(e.children),d(),r(()=>{var t;return null==n||null==(t=n.mountedInstances)||t.add(e.children),()=>{var t;null==n||null==(t=n.mountedInstances)||t.delete(e.children)}}),r(()=>(n&&(n._pendingUpdate=d),()=>{n&&(n._pendingUpdate=d)})),s(()=>(n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null),()=>{n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null)})),null}},8345:e=>{e.exports={edit_page:"Edit_edit_page__NR5vO",edit_page__content:"Edit_edit_page__content__GqvZG",edit_page__header:"Edit_edit_page__header__5ccJq",edit_page__title:"Edit_edit_page__title__d6NbP",edit_page__tags:"Edit_edit_page__tags__pW6FJ",edit_page__body:"Edit_edit_page__body__hoaEJ",edit_page__action:"Edit_edit_page__action__OBB_v",update_button:"Edit_update_button__rA1HZ",delete_button:"Edit_delete_button__31hsv",error:"Edit_error__jbLcY"}},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9788:(e,t,n)=>{e.exports=n(1145)}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[616,358],()=>n(8115));module.exports=a})();